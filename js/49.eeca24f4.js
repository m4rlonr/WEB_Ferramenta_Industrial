"use strict";(self["webpackChunkfront_gerenciamento"]=self["webpackChunkfront_gerenciamento"]||[]).push([[49],{7049:function(e,l,t){t.r(l),t.d(l,{default:function(){return A}});var a=t(9269),i=t(9357),d=t(1669),o=t(9003),r=t(3379),s=t(7636),n=t(8399);const u=(0,a._)("div",{class:"text-h6"},"INSERIR TÍTULO",-1),m=(0,a._)("h4",{style:{"text-align":"center","margin-bottom":"2rem"}},"Lista de materiais",-1);function c(e,l,t,c,b,h){const f=(0,a.up)("NavBar"),p=(0,a.up)("q-card-section"),W=(0,a.up)("q-btn"),g=(0,a.up)("q-card-actions"),w=(0,a.up)("q-card"),_=(0,a.up)("q-dialog"),V=(0,a.up)("Alert"),I=(0,a.up)("Lista"),C=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(f),(0,a.Wm)(d.K,null,{default:(0,a.w5)((()=>[(0,a.Wm)(_,{modelValue:e.dialog,"onUpdate:modelValue":l[2]||(l[2]=l=>e.dialog=l)},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[u])),_:1}),(0,a.Wm)(p,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(d.K,null,{default:(0,a.w5)((()=>[(0,a.Wm)(o.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(n.h,{modelValue:e.InsertTitle,"onUpdate:modelValue":l[0]||(l[0]=l=>e.InsertTitle=l),required:"",rules:e.rules.existencia,label:"Insira um título"},null,8,["modelValue","rules"]),(0,a.Wm)(n.h,{modelValue:e.InsertElaborador,"onUpdate:modelValue":l[1]||(l[1]=l=>e.InsertElaborador=l),required:"",rules:e.rules.existencia,label:"Insira seu nome"},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(g,{align:"right"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(W,{flat:"",label:"SALVAR",onClick:e.storeTitleElab},null,8,["onClick"]),[[C]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(o.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r.D,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w,{class:"my-card text-white",style:{background:"radial-gradient(circle, #35a2ff 0%, #014a88 100%)"}},{default:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d.K,null,{default:(0,a.w5)((()=>[(0,a.Wm)(o.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r.D,null,{default:(0,a.w5)((()=>[m,(0,a.Wm)(i.O,{modelValue:e.valid_form,"onUpdate:modelValue":l[6]||(l[6]=l=>e.valid_form=l),ref:"ref_form"},{default:(0,a.w5)((()=>[(0,a.Wm)(o.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r.D,{cols:"12",xs:"12",sm:"6",md:"6",lg:"6",xl:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(n.h,{modelValue:e.Objeto.descricao,"onUpdate:modelValue":l[3]||(l[3]=l=>e.Objeto.descricao=l),required:"",rules:e.rules.existencia,label:"Descrição"},null,8,["modelValue","rules"])])),_:1}),(0,a.Wm)(r.D,{cols:"12",xs:"12",sm:"3",md:"3",lg:"3",xl:"3"},{default:(0,a.w5)((()=>[(0,a.Wm)(n.h,{type:"number",required:"",rules:e.rules.existencia,modelValue:e.Objeto.quantidade,"onUpdate:modelValue":l[4]||(l[4]=l=>e.Objeto.quantidade=l),label:"Quantidade"},null,8,["rules","modelValue"])])),_:1}),(0,a.Wm)(r.D,{cols:"12",xs:"12",sm:"3",md:"3",lg:"3",xl:"3"},{default:(0,a.w5)((()=>[(0,a.Wm)(s.r,{modelValue:e.Objeto.medida,"onUpdate:modelValue":l[5]||(l[5]=l=>e.Objeto.medida=l),items:e.choices,label:"Unidade de medida"},null,8,["modelValue","items"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(g,{align:"around"},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{flat:"",label:"TÍTULO/ELABORADOR",onClick:l[7]||(l[7]=l=>e.dialog=!0)}),e.salvarItem?((0,a.wg)(),(0,a.j4)(W,{key:1,flat:"",onClick:e.alterarItem,label:"SALVAR"},null,8,["onClick"])):((0,a.wg)(),(0,a.j4)(W,{key:0,flat:"",onClick:e.incluirLista,label:"INCLUIR"},null,8,["onClick"])),(0,a.Wm)(W,{flat:"",onClick:e.cleanForm,label:"LIMPAR"},null,8,["onClick"]),(0,a.Wm)(W,{flat:"",onClick:e.impressaoPage,label:"PDF",disable:e.disableFileButtons()},null,8,["onClick","disable"]),(0,a.Wm)(W,{flat:"",onClick:e.exportCSV,label:"EXPORTA CSV",disable:e.disableFileButtons()},null,8,["onClick","disable"]),(0,a.Wm)(W,{flat:"",to:"/home",label:"VOLTAR A HOME"})])),_:1}),e.alert.status?((0,a.wg)(),(0,a.j4)(V,{key:0,type:e.alert.type,text:e.alert.text},null,8,["type","text"])):(0,a.kq)("",!0)])),_:1})])),_:1})])),_:1}),(0,a.Wm)(I,{headers:e.headers,table:e.table,title:e.title,pagination:!0,onEmitData:e.EmitData},null,8,["headers","table","title","onEmitData"])])),_:1})],64)}var b=t(7338),h=t(4235),f=t(8812),p=t(8143),W=t(8331),g=(0,a.aZ)({name:"HomeView",components:{NavBar:h.Z,Lista:f.Z,Alert:p.Z},computed:{table(){return b.Z.state.material},title(){return b.Z.state.titulo},elaborador(){return b.Z.state.elaborador}},data(){return{salvarItem:!1,dialog:!1,valid_form:!1,InsertTitle:null,InsertElaborador:null,alert:{type:null,text:null,status:!1},Objeto:{id:null,descricao:null,quantidade:null,medida:null},headers:[{align:"left",sortable:!0,name:"id",label:"#",field:"id"},{align:"left",sortable:!0,name:"descricao",label:"Descrição",field:"descricao"},{align:"center",name:"quantidade",label:"Quantidade",field:"quantidade"},{align:"center",name:"medida",label:"Unidade de medida",field:"medida"}],rules:{existencia:[e=>0!==e.length||"Campo é necessário"]},choices:["Metro","Centímetro","Unidade","Litro","Mililitro"]}},methods:{cleanForm(){this.salvarItem=!1,this.$refs.ref_form.reset(),this.$refs.ref_form.resetValidation()},incluirLista(){let e={id:this.table.length,descricao:this.Objeto.descricao,quantidade:this.Objeto.quantidade,medida:this.Objeto.medida};this.valid_form?(this.alertAction("Valores inseridos","success"),this.storeAdd(e)):this.alertAction("Insira valores válidos!","error")},alertAction(e,l){this.alert.text=e,this.alert.status=!0,this.alert.type=l,setTimeout((()=>{this.alert.status=!1}),3e3)},storeAdd(e){this.$store.commit("addMaterial",e)},storeTitleElab(){this.$store.commit("addTitle",this.InsertTitle),this.$store.commit("addElaborador",this.InsertElaborador)},exportCSV(){let e="data:text/csv;charset=utf-8,"+(0,W.parse)(b.Z.state.lista);var l=encodeURI(e),t=document.createElement("a");t.setAttribute("href",l),t.setAttribute("download",b.Z.state.titulo+".csv"),document.body.appendChild(t),t.click()},disableFileButtons(){return this.table.length<=0||null===this.title||null===this.elaborador},EmitData(e){this.Objeto.descricao=e.descricao,this.Objeto.quantidade=e.quantidade,this.Objeto.id=e.id,this.Objeto.medida=e.medida,this.salvarItem=!0},alterarItem(){this.$store.commit("changeItemMaterial",this.Objeto),this.cleanForm()},impressaoPage(){this.$store.commit("changeImpressao",1),this.$router.push("/pdf")}},mounted(){null===this.title&&null===this.elaborador||(this.InsertTitle=this.title,this.InsertElaborador=this.elaborador)}}),w=t(7617),_=t(9605),V=t(9531),I=t(9298),C=t(2683),k=t(7447),O=t(4470),x=t(1410),q=t.n(x);const v=(0,w.Z)(g,[["render",c]]);var A=v;q()(g,"components",{QDialog:_.Z,QCard:V.Z,QCardSection:I.Z,QCardActions:C.Z,QBtn:k.Z}),q()(g,"directives",{ClosePopup:O.Z})}}]);
//# sourceMappingURL=49.eeca24f4.js.map